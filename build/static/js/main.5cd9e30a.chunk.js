(this["webpackJsonpreact-currency-converter"]=this["webpackJsonpreact-currency-converter"]||[]).push([[0],{44:function(e,c,t){},45:function(e,c,t){},65:function(e,c,t){},69:function(e,c,t){},70:function(e,c,t){},71:function(e,c,t){},72:function(e,c,t){},73:function(e,c,t){},74:function(e,c,t){},75:function(e,c,t){},76:function(e,c,t){"use strict";t.r(c);var a=t(1),r=t.n(a),n=t(16),s=t.n(n),l=t(10),i=t(13),o=t(32),u=t(4),j="GET_COURSES_DATA",d="SET_SELECTED_CURRENCY",b="SET_FROM_CURRENCY",h="SET_TO_CURRENCY",O="SET_EXCHANGE_RATE",x="SET_AMOUNT",m="SET_IS_LOADING",v=function(e){return{type:d,selectedCurrency:e}},f=function(e){return{type:b,fromCurrency:e}},C=function(e){return{type:h,toCurrency:e}},N=function(e){return{type:O,exchangeRate:e}},p=function(e){return{type:x,amount:e}},g={coursesData:[],selectedCurrency:void 0,fromCurrency:void 0,toCurrency:void 0,exchangeRate:void 0,amount:void 0,isLoading:!0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case j:return Object(u.a)(Object(u.a)({},e),{},{coursesData:c.data});case d:return Object(u.a)(Object(u.a)({},e),{},{selectedCurrency:c.selectedCurrency});case b:return Object(u.a)(Object(u.a)({},e),{},{fromCurrency:c.fromCurrency});case h:return Object(u.a)(Object(u.a)({},e),{},{toCurrency:c.toCurrency});case O:return Object(u.a)(Object(u.a)({},e),{},{exchangeRate:c.exchangeRate});case x:return Object(u.a)(Object(u.a)({},e),{},{amount:c.amount});case m:return Object(u.a)(Object(u.a)({},e),{},{isLoading:c.isLoading});default:return e}},_=Object(i.b)({getCourseData:y}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c,E=Object(i.d)(_,w(Object(i.a)(o.a))),D=t(12),R=(t(44),t(45),t(35)),S=t(3),V=t(21),L=t.n(V),T=t(33),k=t(34),A=t.n(k).a.create({baseURL:"https://www.cbr-xml-daily.ru/daily_json.js"}),I=function(){return A.get()},P=t.p+"static/media/logo.05041eab.svg",U=(t(65),t(0)),F=function(){return Object(U.jsx)("header",{className:"navbar navbar-expand-lg navbar-light bg-info",children:Object(U.jsxs)("div",{className:"wrapper container-fluid",children:[Object(U.jsx)("div",{className:"header_logo",children:Object(U.jsx)("img",{src:P,alt:"logo"})}),Object(U.jsx)("nav",{children:Object(U.jsx)("div",{children:Object(U.jsx)("div",{className:"collapse navbar-collapse",id:"navbarExample01",children:Object(U.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(D.b,{className:"nav-link",to:"/list",activeClassName:"active",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u043b\u044e\u0442"})}),Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(D.b,{className:"nav-link",to:"/converter",activeClassName:"active",children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"})})]})})})})]})})},M=(t(69),function(){return Object(U.jsx)("footer",{className:"bg-info text-center text-lg-start",children:Object(U.jsxs)("div",{className:"text-center p-3",children:["\xa9 2021 Copyright:",Object(U.jsx)("a",{className:"text-dark",href:"https://aleber.ru/",children:" Alex Berezov"})]})})}),B=t.p+"static/media/Iphone-spinner-2.d3fbaf2b.gif",G=(t(70),function(){return Object(U.jsx)("div",{className:"preloader",children:Object(U.jsx)("img",{src:B,alt:"Preloader"})})}),X=(t(71),function(e){var c=e.handleSelectedCurrency,t=e.coursesData,a=e.selectedCurrency,r=e.changeValueRate;return Object(U.jsx)("div",{className:"currency__pair",children:Object(U.jsx)("div",{className:"card bg-light col-4",children:Object(U.jsxs)("div",{className:"row g-0",children:[Object(U.jsx)("div",{className:"select_blok col-md-3",children:Object(U.jsx)("select",{onChange:c,children:t&&t.map((function(e){return Object(U.jsx)("option",{value:e.CharCode,children:e.CharCode},e.ID)}))})}),Object(U.jsx)("div",{className:"col-md-9",children:a&&Object(U.jsxs)("div",{className:"card-body",children:[Object(U.jsx)("h6",{className:"card-title",children:a.Name}),Object(U.jsxs)("div",{className:"pair_block",children:[Object(U.jsx)("p",{className:"card-text",children:"".concat(a.Nominal," ").concat(a.CharCode)}),Object(U.jsx)("i",{className:"fas fa-arrows-alt-h"}),Object(U.jsxs)("p",{className:"card-text",children:[a.Value," RUB"]}),Object(U.jsxs)("div",{className:a.Value-a.Previous>0?"course_change text-success":"course_change text-danger",children:[a.Value-a.Previous>0?Object(U.jsx)("i",{className:"fas fa-arrow-up"}):Object(U.jsx)("i",{className:"fas fa-arrow-down"}),Object(U.jsx)("p",{className:"card-text",children:r(a.Value,a.Previous)})]})]})]})})]})})})}),Y=t(36),J=(t(72),function(e){var c=e.coursesData,t=e.changeValueRate,r=Object(a.useState)(""),n=Object(Y.a)(r,2),s=n[0],l=n[1],i=c.filter((function(e){if(e.Name.toLowerCase().includes(s.toLowerCase())||e.CharCode.toLowerCase().includes(s.toLowerCase()))return e}));return""!==s&&(c=i),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"currency__list_header",children:[Object(U.jsx)("div",{className:"title",children:Object(U.jsx)("h1",{children:"\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u0426\u0411 \u0420\u0424 \u043d\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"})}),Object(U.jsx)("div",{className:"search",children:Object(U.jsx)("input",{placeholder:"\u041f\u043e\u0438\u0441\u043a \u0432\u0430\u043b\u044e\u0442\u044b",onChange:function(e){l(e.target.value)}})})]}),Object(U.jsx)("div",{className:"currency__list_table",children:Object(U.jsxs)("table",{className:"table",children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{scope:"col",children:"\u041a\u043e\u0434"}),Object(U.jsx)("th",{scope:"col",children:"\u0415\u0434\u0438\u043d\u0438\u0446"}),Object(U.jsx)("th",{scope:"col",children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(U.jsx)("th",{scope:"col",children:"\u041a\u0443\u0440\u0441 \u0426\u0411 \u0420\u0424"}),Object(U.jsx)("th",{scope:"col",children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"})]})}),Object(U.jsx)("tbody",{children:c&&c.map((function(e){return Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:e.CharCode}),Object(U.jsx)("td",{children:e.Nominal}),Object(U.jsx)("td",{children:e.Name}),Object(U.jsx)("td",{children:e.Value}),Object(U.jsxs)("td",{className:e.Value-e.Previous>0?"course_change text-success":"course_change text-danger",children:[e.Value-e.Previous>0?Object(U.jsx)("i",{className:"fas fa-arrow-up"}):Object(U.jsx)("i",{className:"fas fa-arrow-down"}),t(e.Value,e.Previous)]})]},e.ID)}))})]})})]})}),z=(t(73),function(e){var c=e.coursesData,t=e.handleSelectedCurrency,a=e.selectedCurrency,r=function(e,c){return(e-c).toFixed(4)};return Object(U.jsx)("section",{className:"currency__list",children:Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsx)(X,{handleSelectedCurrency:t,coursesData:c,selectedCurrency:a,changeValueRate:r}),Object(U.jsx)(J,{coursesData:c,changeValueRate:r})]})})}),H=(t(74),function(e){var c=e.coursesData,t=e.selectedCurrency,a=e.onChangeCurrency,r=e.amount,n=e.onChangeAmount,s=e.disabled;return Object(U.jsx)("div",{className:"card bg-light col-3",children:Object(U.jsx)("div",{className:"row g-0",children:Object(U.jsxs)("div",{className:"card-body",children:[Object(U.jsx)("h6",{className:"card-title",children:t&&t.Name}),Object(U.jsxs)("div",{className:"currency_block",children:[Object(U.jsx)("select",{value:t&&t.CharCode,onChange:a,children:c&&c.map((function(e){return Object(U.jsx)("option",{value:e.CharCode,children:e.CharCode},e.ID)}))}),Object(U.jsx)("input",{type:"number",onChange:n,value:r&&r,disabled:s})]})]})})})}),q=(t(75),function(e){var c=e.coursesData,t=Object(l.b)(),r=Object(l.c)((function(e){return e.getCourseData})),n=r.fromCurrency,s=r.toCurrency,i=r.exchangeRate,o=r.amount;Object(a.useEffect)((function(){t(p(n&&n.Nominal)),t(N(s&&n.Value*n.Nominal/(s.Value/s.Nominal)))}),[n,s]);var u=function(e){return c.filter((function(c){if(c.CharCode===e)return c}))};return Object(U.jsx)("section",{className:"currencyConverter",children:Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsx)("h2",{children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"}),Object(U.jsxs)("div",{className:"currencyConverter_block",children:[Object(U.jsx)(H,{coursesData:c,selectedCurrency:n,onChangeCurrency:function(e){var c=u(e.target.value);t(f(c[0]))},amount:o,onChangeAmount:function(e){e.target.value<0||null===e.target.value||(t(p(e.target.value)),t(N(n.Value*e.target.value/(s.Value/s.Nominal))))},disabled:!1}),Object(U.jsx)("div",{className:"swapCurrencies",children:Object(U.jsx)("i",{className:"fas fa-arrows-alt-h"})}),Object(U.jsx)(H,{coursesData:c,selectedCurrency:s,onChangeCurrency:function(e){var c=u(e.target.value);t(C(c[0]))},amount:i&&i.toFixed(2),disabled:!0})]})]})})});var K=function(){var e=Object(l.b)();Object(a.useEffect)((function(){e(function(){var e=Object(T.a)(L.a.mark((function e(c){var t,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,a=Object.values(t.data.Valute),r=a[3],c({type:j,data:a}),c(f(a[10])),c(C(r)),c({type:m,isLoading:!1});case 9:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}())}),[e]);var c=Object(l.c)((function(e){return e.getCourseData})),t=c.coursesData,r=c.selectedCurrency,n=c.isLoading;Object(a.useEffect)((function(){e(v(t[0]))}),[t,e]);var s=function(c){var a=c.target.value,r=t.filter((function(e){if(e.CharCode===a)return e}));e(v.apply(void 0,Object(R.a)(r)))};return Object(U.jsxs)("div",{className:"app",children:[Object(U.jsx)(F,{}),n?Object(U.jsx)(G,{}):Object(U.jsxs)("article",{children:[Object(U.jsx)(S.b,{path:"/",exact:!0,render:function(){return Object(U.jsx)(S.a,{to:"/list"})}}),Object(U.jsx)(S.b,{path:"/List",render:function(){return Object(U.jsx)(z,{coursesData:t,handleSelectedCurrency:s,selectedCurrency:r})}}),Object(U.jsx)(S.b,{path:"/Converter",render:function(){return Object(U.jsx)(q,{coursesData:t,selectedCurrency:r})}})]}),Object(U.jsx)(M,{})]})};s.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(D.a,{children:Object(U.jsx)(l.a,{store:E,children:Object(U.jsx)(K,{})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.5cd9e30a.chunk.js.map